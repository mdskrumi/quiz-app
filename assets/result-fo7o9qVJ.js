import{j as s,r as n,a as o,u as x}from"./index-u8xbBGD0.js";import{B as m}from"./button-sEAzYWy9.js";import{L as p}from"./logout-button-HI4v2NVM.js";const u=({result:i})=>{const e=i.reduce((t,a)=>t+a.result,0);return s.jsx("div",{children:s.jsxs("div",{className:"grid grid-cols-3",children:[s.jsx("p",{className:"text-left border-b",children:"Question"}),s.jsx("p",{className:"text-left border-b",children:"Answer"}),s.jsx("p",{className:"text-left border-b",children:"Result"}),i.map((t,a)=>s.jsxs(n.Fragment,{children:[s.jsxs("p",{children:[t.question," "]}),s.jsxs("p",{children:[t.answered," "]}),s.jsx("p",{children:t.result})]},a)),s.jsxs("p",{className:"col-start-3 border-t pb-4 mb-3",children:["Total: ",e]})]})})},f=()=>{const i=o(),{user:e}=x(),[t,a]=n.useState();return n.useEffect(()=>{if(e&&(e!=null&&e.email))if(e.type==="admin")a(JSON.parse(localStorage.getItem("savedResults"))||null);else{const l=JSON.parse(localStorage.getItem("savedResults"));if(l[e==null?void 0:e.email]){const r={[e==null?void 0:e.email]:l[e==null?void 0:e.email]};a(r)}}},[e]),s.jsxs("div",{children:[s.jsx("h3",{className:"text-center",children:"Results"}),s.jsxs("div",{className:"w-fit ml-auto flex gap-3",children:[s.jsx(m,{variant:"primary",handleClick:()=>{i((e==null?void 0:e.type)==="admin"?"/quiz-app/questions":"/quiz-app/quiz")},children:s.jsx("p",{className:"min-w-max",children:(e==null?void 0:e.type)==="admin"?"Questions":"Try Again"})}),s.jsx(p,{})]}),s.jsx("div",{children:t?Object.keys(t).map(l=>{var r;return s.jsxs("div",{children:[s.jsx("h4",{children:l}),s.jsx("div",{children:(r=t[l])==null?void 0:r.map((c,d)=>s.jsx(u,{result:c},d))})]},l)}):s.jsx("div",{className:"text-center opacity-70 text-xl sm:text-2xl md:text-3xl abs-center",children:"You do not have any results available now."})})]})};export{f as default};
