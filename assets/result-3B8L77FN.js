import{j as s,r as i,a as m,u as h}from"./index-d5MxYY6w.js";import{B as d}from"./button-ylCNdeNb.js";const j=({result:n})=>{const e=n.reduce((t,a)=>t+a.result,0);return s.jsx("div",{children:s.jsxs("div",{className:"grid grid-cols-3",children:[s.jsx("p",{className:"text-left border-b",children:"Question"}),s.jsx("p",{className:"text-left border-b",children:"Answer"}),s.jsx("p",{className:"text-left border-b",children:"Result"}),n.map((t,a)=>s.jsxs(i.Fragment,{children:[s.jsxs("p",{children:[t.question," "]}),s.jsxs("p",{children:[t.answered," "]}),s.jsx("p",{children:t.result})]},a)),s.jsxs("p",{className:"col-start-3 border-t pb-4 mb-3",children:["Total: ",e]})]})})},v=()=>{const n=m(),{user:e,setUser:t}=h(),[a,c]=i.useState();return i.useEffect(()=>{if(e&&(e!=null&&e.email))if(e.type==="admin")c(JSON.parse(localStorage.getItem("savedResults"))||null);else{const l=JSON.parse(localStorage.getItem("savedResults"));if(l[e==null?void 0:e.email]){const r={[e==null?void 0:e.email]:l[e==null?void 0:e.email]};c(r)}}},[e]),s.jsxs("div",{children:[s.jsx("h3",{className:"text-center",children:"Results"}),s.jsxs("div",{className:"w-fit ml-auto flex gap-3",children:[s.jsx(d,{variant:"primary",handleClick:()=>{n((e==null?void 0:e.type)==="admin"?"/questions":"/quiz")},children:s.jsxs("p",{className:"min-w-max",children:[" ",(e==null?void 0:e.type)==="admin"?"Questions":"Try Again"]})}),s.jsx(d,{variant:"danger",handleClick:()=>{t(null),n("/")},children:s.jsx("p",{className:"min-w-max",children:"Log out"})})]}),s.jsx("div",{children:a?Object.keys(a).map(l=>{var r;return s.jsxs("div",{children:[s.jsx("h4",{children:l}),s.jsx("div",{children:(r=a[l])==null?void 0:r.map((x,o)=>s.jsx(j,{result:x},o))})]},l)}):s.jsx("div",{className:"text-center opacity-70 text-xl sm:text-2xl md:text-3xl abs-center",children:"You do not have any results available now."})})]})};export{v as default};
